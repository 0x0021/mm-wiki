<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>MM Wiki</title>
  <!-- Bootstrap core CSS -->
  <link href="resource/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <!-- Custom styles for this template -->
  <link href="resource/css/dashboard.css" rel="stylesheet">
  <link href="resource/css/common.css" rel="stylesheet">
  <link href="resource/css/main.css" rel="stylesheet">

  <link rel="stylesheet" href="resource/plugins/editor.md/css/editormd.preview.css" />
  <link rel="stylesheet" href="resource/plugins/editor.md/css/editormd.min.css" />

  <script type="text/javascript" src="resource/plugins/jquery/jquery1.1.js"></script>
  <script type="text/javascript" src="resource/plugins/bootstrap/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="resource/js/module/main.js"></script>
</head>

<body>

<div id="sidebar-wrapper">
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="/" style="width: 238px">&nbsp;&nbsp;Markdown Mini Wiki</a>
        <ul class="nav navbar-nav">
          <li class="active"><a href="/"><i class="glyphicon glyphicon-home"></i>&nbsp;&nbsp;主页</a></li>
          <li><a href="space.html"><i class="glyphicon glyphicon-folder-open"></i>&nbsp;&nbsp;空间</a></li>
          <li><a href="user.html"><i class="glyphicon glyphicon-user"></i>&nbsp;&nbsp;用户</a></li>
          <li><a href="config.html"><i class="glyphicon glyphicon-cog"></i>&nbsp;&nbsp;设置</a></li>
        </ul>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <form class="navbar-form navbar-left">
          <div class="form-group form-group-sm">
              <input type="text" placeholder="搜索内容" class="form-control input-sm" style="width: 250px;">
          </div>
          <button type="button" class="btn btn-sm btn-success">搜索</button>
        </form>
        <ul class="nav navbar-nav navbar-right">
          <li class="dropdown">
            <a id="helpLabel" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <span class="glyphicon glyphicon-question-sign"></span>&nbsp;&nbsp;帮助
              <span class="caret"></span>
            </a>
            <ul class="dropdown-menu" aria-labelledby="helpLabel">
              <li><a href="/"><span class="glyphicon glyphicon-book"></span>&nbsp;&nbsp;在线文档</a></li>
              <li><a href="/"><span class="glyphicon glyphicon-send"></span>&nbsp;&nbsp;联系我们</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a id="userLabel" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <span class="glyphicon glyphicon-user"></span>&nbsp;&nbsp;root
              <span class="caret"></span>
            </a>
            <ul class="dropdown-menu" aria-labelledby="userLabel">
              <li><a href="/"><span class="glyphicon glyphicon-edit"></span>&nbsp;&nbsp;个人信息</a></li>
              <li><a href="/"><span class="glyphicon glyphicon-lock"></span>&nbsp;&nbsp;修改密码</a></li>
              <li><a href="/"><span class="glyphicon glyphicon-off"></span>&nbsp;&nbsp;安全退出</a></li>
            </ul>
          </li>
          &nbsp;&nbsp;
        </ul>
      </div>
    </div>
  </nav>
</div>
<div class="container-fluid">
  <div id="main-content" class="row">
    <div id="main-left" class="col-md-2 sidebar">
      <div class="left-search">
        <form>
          <div class="input-group">
            <input class="form-control input-sm" type="text" value="" placeholder="搜索文档...">
            <span class="input-group-btn">
              <button class="btn btn-sm btn-success" type="button"><i class="glyphicon glyphicon-search"></i></button>
            </span>
          </div>
        </form>
        <ul id="dir_tree" class="ztree" style="margin-top: 5px"></ul>
      </div>
      <div class="left-collection-doc">
        <span class="center"> 收藏文档 <span class="badge">42</span> </span>
        <hr>
        <ul>
          <li><a href="page.html">这是测试文档这是测试文档</a></li>
          <li><a href="page.html">这是测试文档这是测试文档</a></li>
          <li><a href="page.html">这是测试文档这是测试文档</a></li>
          <li><a href="page.html">这是测试文档这是测试文档</a></li>
        </ul>
      </div>
      <div class="left-tree">
      </div>
    </div>
    <div id="main-right" class="col-md-10" style="padding: 8px 0 8px 4px">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-12">
            <div class="panel panel-default">
              <div class="panel-body">
                <div class="row">
                    <div class="col-md-8">
                      <h4 class="edit-page-title">这是测试文档这是测试文档</h4>
                    </div>
                    <div class="col-md-4 text-right">
                      <a class="btn btn-default"><i class="fa fa-save"></i> 保存</a>
                      <a class="btn btn-default" onclick="updateMainLeft(0)"><i class="fa fa-columns item"></i> 侧栏</a>
                    </div>
                </div>
              </div>
              <div class="editor-header">

              </div>
              <div id="test-editormd"></div>
              <div class="panel-footer">
                <div class="text-right"><span class="text-info">最后修改时间：2018-06-18 18:27:09</span></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="main-line"></div>
  </div>
</div>
<script src="resource/plugins/editor.md/lib/marked.min.js"></script>
<script src="resource/plugins/editor.md/lib/prettify.min.js"></script>

<script src="resource/plugins/editor.md/lib/raphael.min.js"></script>
<script src="resource/plugins/editor.md/lib/underscore.min.js"></script>
<script src="resource/plugins/editor.md/lib/sequence-diagram.min.js"></script>
<script src="resource/plugins/editor.md/lib/flowchart.min.js"></script>
<script src="resource/plugins/editor.md/lib/jquery.flowchart.min.js"></script>

<script src="resource/plugins/editor.md/editormd.js"></script>
<script type="text/javascript">
  $(function() {

    updateMainLeft(0);

    var testEditor;

    $.get('test.md', function(md){
      testEditor = editormd("test-editormd", {
        width: "100%",
        height: 500,
        path : '/resource/plugins/editor.md/lib/',
        toolbarIcons : function() {
          // Using "||" set icons align right.
          return [
            "sidebar", "save", "|", "undo", "redo", "|",
            "bold", "del", "italic", "quote", "|",
            "h1", "h2", "h3", "h4", "h5", "h6", "|",
            "list-ul", "list-ol", "hr", "|",
            "link", "reference-link", "image", "code", "preformatted-text", "code-block", "table", "datetime", "html-entities", "pagebreak", "|",
            "goto-line", "watch", "preview", "search", "|",
            "help"
          ]
        },
        // 用于增加自定义工具栏的功能，可以直接插入HTML标签，不使用默认的元素创建图标
        toolbarCustomIcons : {
          sidebar   : '<a href="" title="侧边栏"><i class="fa fa-columns item"></i></a>',
          save : '<a href="" title="保存"><i class="fa fa-save"></i></a>'
        },
        theme : "default",
        previewTheme : "default",
        editorTheme : "default",
        markdown : md,
        codeFold : true,
//        syncScrolling : false,
        saveHTMLToTextarea : true,    // 保存 HTML 到 Textarea
        searchReplace : true,
        //watch : false,                // 关闭实时预览
        htmlDecode : "style,script,iframe|on*",  // 开启 HTML 标签解析，为了安全性，默认不开启
        //toolbar  : false,             //关闭工具栏
        //previewCodeHighlight : false, // 关闭预览 HTML 的代码块高亮，默认开启
        emoji : false,
        taskList : true,
        tocm : true,                  // Using [TOCM]
        tex : true,                   // 开启科学公式TeX语言支持，默认关闭
        flowChart : true,             // 开启流程图支持，默认关闭
        sequenceDiagram : true,       // 开启时序/序列图支持，默认关闭,
        //dialogLockScreen : false,   // 设置弹出层对话框不锁屏，全局通用，默认为true
        //dialogShowMask : false,     // 设置弹出层对话框显示透明遮罩层，全局通用，默认为true
        //dialogDraggable : false,    // 设置弹出层对话框不可拖动，全局通用，默认为true
        //dialogMaskOpacity : 0.4,    // 设置透明遮罩层的透明度，全局通用，默认值为0.1
        //dialogMaskBgColor : "#000", // 设置透明遮罩层的背景颜色，全局通用，默认为#fff
        imageUpload : true,
        imageFormats : ["jpg", "jpeg", "gif", "png", "bmp", "webp"],
        imageUploadURL : "./php/upload.php",
        onload : function() {
          console.log('onload', this);
          //this.fullscreen();
          //this.unwatch();
          //this.watch().fullscreen();

          //this.setMarkdown("#PHP");
          //this.width("100%");
          //this.height(480);
          //this.resize("100%", 640);
        }
      });
    });
  });
</script>

</body>
</html>